---
–∫–∞–ª–æ—Ä–∏–∏: 47
---
## üçä –ê–ø–µ–ª—å—Å–∏–Ω
calories: 45

```dataviewjs
// –ü–û–õ–ù–´–ô –†–ê–ë–û–ß–ò–ô –ö–û–î –î–õ–Ø KANBAN-–ú–ï–ù–Æ
try {
    // 1. –ü–æ–ª—É—á–∞–µ–º —Ñ–∞–π–ª –º–µ–Ω—é
    const kanbanFile = dv.page("–ú–µ–Ω—é")?.file;
    if (!kanbanFile) {
        dv.paragraph("‚ùå –§–∞–π–ª '–ú–µ–Ω—é' –Ω–µ –Ω–∞–π–¥–µ–Ω!");
        return;
    }

    // 2. –ß–∏—Ç–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
    const kanbanContent = await dv.io.load(kanbanFile.path);
    if (!kanbanContent) {
        dv.paragraph("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª –º–µ–Ω—é");
        return;
    }

    // 3. –ò—â–µ–º –±–ª—é–¥–∞ –≤ –∫–æ–ª–æ–Ω–∫–µ –°–ï–ì–û–î–ù–Ø
    const todaySection = kanbanContent.match(/## üçΩ –°–ï–ì–û–î–ù–Ø\n([\s\S]+?)(?=\n## |$)/);
    const todayMeals = todaySection?.[1].match(/\[\[(.*?)\]\]/g)?.map(m => m.slice(2, -2)) || [];

    // 4. –°—á–∏—Ç–∞–µ–º –∫–∞–ª–æ—Ä–∏–∏
    let total = 0;
    let output = "## üçΩ –°–ï–ì–û–î–ù–Ø\n\n";
    
    for (const meal of todayMeals) {
        const p = dv.page(meal);
        if (p?.–∫–∞–ª–æ—Ä–∏–∏) {
            total += p.–∫–∞–ª–æ—Ä–∏–∏;
            // output += `- **${meal}**: ${p.–∫–∞–ª–æ—Ä–∏–∏} –∫–∫–∞–ª\n`;
        } else {
            output += `- ${meal}: –∫–∞–ª–æ—Ä–∏–∏ –Ω–µ —É–∫–∞–∑–∞–Ω—ã\n`;
        }
    }

    // 5. –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    if (todayMeals.length > 0) {
        output += `\n**‚úÖ –ò—Ç–æ–≥–æ:** <span style="color:red;font-weight:bold">${total} –∫–∫–∞–ª</span>`;
    } else {
        output += "\n–ù–∞ —Å–µ–≥–æ–¥–Ω—è –±–ª—é–¥ –Ω–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ";
    }
    
    dv.paragraph(output);
} catch (error) {
    dv.paragraph(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
}
```